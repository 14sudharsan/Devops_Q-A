# DevOps Interview Questions and Answers

This repository contains a categorized list of **interview questions and answers** for AWS, Terraform, Kubernetes (EKS), and Linux.  
Answers are elaborate with examples, best practices, and commands to prepare for real-world scenarios.  

---

## ðŸ“‘ Table of Contents

1. [AWS](#aws)  
   - [IAM / Security](#iam--security)  
   - [S3 / Storage](#s3--storage)  
   - [CloudFront / CDN / WAF / Shield](#cloudfront--cdn--waf--shield)  
   - [Logging / Monitoring / Guardrails](#logging--monitoring--guardrails)  
   - [Governance / Compliance / Policy as Code](#governance--compliance--policy-as-code)  
   - [Cost Optimization / Lifecycle](#cost-optimization--lifecycle)  
   - [Automation / Pipelines / Self-Service](#automation--pipelines--self-service)  
   - [General AWS](#general-aws)  
2. [Terraform](#terraform)  
3. [Kubernetes / EKS](#kubernetes--eks)  
4. [Linux](#linux)  
5. [Suggested Repository Structure](#-suggested-repository-structure)  

---

# AWS

## IAM / Security

### **Q: Whatâ€™s your approach to automating IAM role provisioning (including trust relationships, SAML/OIDC federation) across multiple accounts?**
A: IAM role provisioning should be automated using **Infrastructure as Code (IaC)** tools such as Terraform or AWS CloudFormation.  
- Trust policies are defined centrally and applied via automation across AWS accounts.  
- For federation, configure **SAML/OIDC with corporate IdPs** (e.g., Okta, Azure AD) to allow single sign-on.  
- Use **Terraform modules** or **StackSets** to ensure consistency.  

```hcl
resource "aws_iam_role" "example" {
  name = "app-role"
  assume_role_policy = jsonencode({
    Version = "2012-10-17"
    Statement = [{
      Effect = "Allow"
      Principal = { Service = "ec2.amazonaws.com" }
      Action   = "sts:AssumeRole"
    }]
  })
}
Best Practice: Enforce least privilege, validate with OPA/Sentinel, and rotate credentials frequently.

Q: How do you automate EC2 start/stop, SAML and IAM role creation using Automation and integrate with ServiceNow Catalog?
A:

Use AWS Systems Manager Automation documents (SSM documents) for EC2 lifecycle and IAM role creation.

Integrate ServiceNow Catalog with AWS Service Management Connector.

Users request via ServiceNow â†’ triggers automation â†’ executes AWS workflows.

Q: Describe how youâ€™d build an automation pipeline that identifies unused IAM roles, keys, and security groups and remediates them safely.
A:

Use AWS Config and Access Analyzer to detect unused roles/keys.

Gather last-used timestamps from IAM and CloudTrail.

Automation workflow â†’ disable â†’ notify owners â†’ delete after X days.

For security groups: remove rules with zero references.

Q: How do you automate the setup of cross-account AssumeRole policies while ensuring least privilege?
A:

Define assume role trust policies as IaC.

Deploy via Terraform/CloudFormation across accounts.

Validate with policy linters (e.g., OPA).

Assign only the required actions instead of * wildcard.

Q: What are best practices to automate rotating IAM access keys and secrets across thousands of workloads?
A:

Use AWS Secrets Manager or SSM Parameter Store for auto-rotation.

Applications fetch credentials dynamically instead of hardcoding.

Automate via EventBridge â†’ Lambda â†’ Rotate secrets.

Q: How do you enforce KMS key policies and rotation automatically across an enterprise environment?
A:

Enable automatic key rotation in AWS KMS.

Use AWS Config rule kms-key-rotation-enabled.

Auto-remediate with Lambda if disabled.

Audit via Security Hub and AWS Organizations.

Q: How do you manage users in multiple AWS accounts?
A:

Use AWS SSO / IAM Identity Center with federation.

Integrate with Okta, Azure AD, or LDAP.

Automate onboarding/offboarding via APIs.

Best practice: avoid IAM users â†’ use SSO instead.

S3 / Storage
Q: How would you detect and auto-remediate public S3 buckets or overly permissive security groups?
A:

Use AWS Config managed rules (s3-bucket-public-read-prohibited).

Non-compliance triggers Lambda remediation.

python
Copy code
import boto3
s3 = boto3.client('s3')
def remediate(bucket):
    s3.put_public_access_block(
        Bucket=bucket,
        PublicAccessBlockConfiguration={
            "BlockPublicAcls": True,
            "IgnorePublicAcls": True,
            "BlockPublicPolicy": True,
            "RestrictPublicBuckets": True
        }
    )
For Security Groups, remove 0.0.0.0/0 unless explicitly whitelisted.

Q: How do you secure private S3 content via CloudFront when multiple services consume the same bucket?
A:

Use Origin Access Control (OAC) or Origin Access Identity (OAI).

Configure Signed URLs/Cookies for controlled access.

Deny direct S3 bucket access.

CloudFront / CDN / WAF / Shield
Q: How do you build a reusable automation framework to provision CloudFront distributions with private S3 origins?
A:

Use Terraform modules or CloudFormation templates with inputs for:

OAC/OAI

Signed URLs

Cache policies

Ensure private bucket access only through CloudFront.

Q: How would you automate provisioning of CloudFront + WAF + Shield Advanced as a standard service pattern?
A:

Build Terraform/CFN module that provisions CloudFront â†’ WAF â†’ Shield.

Enforce default WAF rulesets (SQLi/XSS protection).

Shield Advanced ensures DDoS protection.

Logging / Monitoring / Guardrails
Q: How do you automate centralized logging setup (CloudTrail, Config, VPC Flow Logs, GuardDuty)?
A:

Enable org-level CloudTrail.

Store logs in a central S3 bucket.

Enable Config + GuardDuty with delegated admin account.

bash
Copy code
aws cloudtrail create-trail --name org-trail --s3-bucket-name central-logs
aws cloudtrail start-logging --name org-trail
Forward logs to SIEM (Splunk/ELK).

Governance / Compliance / Policy as Code
Q: Whatâ€™s your approach to policy as code (AWS Config, OPA, Terraform Sentinel)?
A:

Define compliance as code â†’ integrate into CI/CD.

Example Sentinel policy (require tags):

hcl
Copy code
import "tfplan/v2" as tfplan
main = rule {
  all tfplan.resource_changes as _, rc {
    all rc.change.after as key, val {
      "tags" in val and "Environment" in val.tags
    }
  }
}
Run policies during terraform plan to block non-compliance.

Cost Optimization / Lifecycle
Q: If we have 50 servers that need to be shut down when idle, how will you do it?
A:

Configure CloudWatch alarm â†’ trigger Lambda â†’ stop instance.

Or schedule via EventBridge rule.

bash
Copy code
aws ssm send-command \
  --targets "Key=instanceIds,Values=i-12345" \
  --document-name "AWS-StopEC2Instance"
Report savings in Cost Explorer dashboards.

Terraform
Q: What are the workflows in Terraform?
A:

Write â†’ Init â†’ Plan â†’ Apply â†’ Destroy.

Always store remote state in S3 + DynamoDB.

bash
Copy code
terraform init
terraform plan -out=tfplan
terraform apply tfplan
Best Practice: Review plans in PR pipeline before apply.

Q: What is Terraform Taint (now replaced by -replace)?
A:

Old: terraform taint to force recreation.

New: terraform apply -replace="aws_instance.example".

bash
Copy code
terraform apply -replace="aws_instance.example"
Kubernetes / EKS
Q: Difference Between Deployment and StatefulSet?
A:

Deployment: for stateless apps (e.g., Nginx, APIs). Pods interchangeable.

StatefulSet: for stateful apps (DBs, Kafka). Stable identity & storage.

yaml
Copy code
apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: mysql
spec:
  serviceName: "mysql"
  replicas: 3
  selector:
    matchLabels:
      app: mysql
Q: What is Pod Disruption Budget (PDB)?
A:

Ensures minimum pods available during disruptions.

yaml
Copy code
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: api-pdb
spec:
  minAvailable: 2
  selector:
    matchLabels:
      app: api
Linux
Q: How will you list the running ports in Linux?
A:

Use ss -tulnp or netstat -tulnp.

bash
Copy code
ss -tulnp
Q: What is Shebang and what happens if itâ€™s missing?
A:

Shebang (#!) defines interpreter.

bash
Copy code
#!/bin/bash
Missing shebang â†’ script may run with default shell (/bin/sh), causing errors.

Q: What are Resource Limits?
A:

Defines CPU, memory, file descriptor limits per process/user.

Managed via ulimit or /etc/security/limits.conf.

bash
Copy code
ulimit -n 4096
Best Practice: Prevent resource exhaustion by setting sensible defaults.

ðŸ“‚ Suggested Repository Structure
Hereâ€™s how you can structure this repo for clarity:

perl
Copy code
devops-interview-prep/
â”‚â”€â”€ README.md                # Main Q&A file (this one)
â”‚
â”œâ”€â”€ aws/                     # AWS-specific IaC & scripts
â”‚   â”œâ”€â”€ iam-examples.tf
â”‚   â”œâ”€â”€ s3-remediation.py
â”‚   â””â”€â”€ cloudfront.tf
â”‚
â”œâ”€â”€ terraform/               # Terraform modules & workflows
â”‚   â”œâ”€â”€ main.tf
â”‚   â””â”€â”€ sentinel-policies/
â”‚
â”œâ”€â”€ kubernetes/              # K8s YAML manifests
â”‚   â”œâ”€â”€ deployment.yaml
â”‚   â”œâ”€â”€ statefulset.yaml
â”‚   â””â”€â”€ pdb.yaml
â”‚
â”œâ”€â”€ linux/                   # Linux commands & automation scripts
â”‚   â””â”€â”€ system-limits.sh
â”‚
â””â”€â”€ docs/                    # Extended documentation
    â””â”€â”€ architecture-diagrams.md
yaml
Copy code

---

âœ… Thatâ€™s your **final single README.md file** with **all Q&A + repo structure**.  

Would you like me to also prepare a **short GitHub description and tags** (for the repo page) so it looks polished when you publish?







Ask ChatGPT
